<div class="row animated fadeIn">

    <div class="col-lg-7">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Perfil del usuario</h4>
                <h6 class="card-subtitle"> {{usuario.nombre}} </h6>

                <form ngNativeValidate #formUser="ngForm" (submit)='actualizarUsuario(formUser.value)'  class="form p-t-20">
                    <div class="form-group">
                        <label for="exampleInputuname">Nombre de usuario</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input [ngModel]="usuario.nombre" name="nombre" type="text" class="form-control" placeholder="Nombre de usuario" 
                            required
                            minlength='3'
                            #nombre="ngModel"
                            >
                        </div>
                        <div *ngIf="!nombre.errors && nombre.dirty">
                            <span class="text-success">¡Correcto!</span>
                        </div>
                        <div >
                            <span class="text-danger"   *ngIf="nombre.errors?.required && nombre.dirty">Valor requerido</span>
                            <span class="text-danger"   *ngIf="nombre.errors?.minlength">El nombre debe tener como minimo 3 letras</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Correo de usuario</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-email"></i></div>
                            <input [ngModel]="usuario.email" [disabled]="usuario.google" name="email" type="email" class="form-control" placeholder="Correo del usuario"
                             required
                             #email="ngModel"
                    
                            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                            >
                        </div>

                        <div *ngIf="!email.errors && email.dirty">
                            <span class="text-success">¡Correcto!</span>
                        </div>
                        <div >
                            <span class="text-danger"   *ngIf="email.errors?.required && email.dirty">Valor requerido</span>
                            <span class="text-danger"   *ngIf="email.errors?.pattern">El formato no es correcto</span>
                        </div>
                    </div>

                    <button type="submit" [disabled]="!formUser.valid" class="btn btn-success waves-effect waves-light m-r-10">
                      <i class="fa fa-save"></i>
                      Guardar
                    </button>
                </form>
            </div>
        </div>
    </div>


    <div class="col-lg-5">
        <div class="card">
            <div class="card-body" align="center">
                <h4 class="card-title">Fotografía del usuario</h4>
                <h6 class="card-subtitle"> {{ usuario.nombre}} </h6>

                <img *ngIf="!imagenTemp" [src]="usuario.image|imagen" class="w150">
                <img *ngIf="imagenTemp" [src]="imagenTemp" class="w150">

               <br>
                <input  type="file" class="mt-2 form-control"  (change)="previsualizarImagen($event)">

                <br><br>

                <button (click)="actualizarImagen()" [disabled]="!imagenTemp" type="button" class="btn btn-block btn-success waves-effect waves-light m-r-10">
                    <i class="fa fa-save"></i>
                    Actualizar Foto
                  </button>
            </div>
        </div>
    </div>

</div>

